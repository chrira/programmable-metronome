{"version":3,"sources":["piece/bars.js","piece/piece.js","music/masquerade.js","music/riverdance.js","metronom.js"],"names":["Bars","amount","content","letter","module","exports","require","Piece","name","parts","tempi","length","addParts","prototype","getName","getParts","getPart","number","getTempi","size","part","i","barsPart","j","part2","subPart2","k","barsSubPart2","l","barsSatz1","barsSatz2","barsSatz3","Masquerade","call","Object","create","constructor","defineProperty","value","enumerable","writable","Riverdance","piece","start","ersterBeep","erstenBeepAusloesen","stopped","setVariables","stopTimer","run","stop","pieceChanged","sel","getPieceSelection","text","options","selectedIndex","getPieceTitle","innerHTML","getElementById","max","getStartButton","addEventListener","getStopButton","wechsleTempo","bars","a","v","u","takt","schlag","achtelDieserSchlag","timestamp","Date","getTime","achtelDauer","vorlauf","achtelZeigen","id","neueSatzNummer","document","jetztstarten","tempo","checked","satzNr","slice","startbar","splice","now","beep","setTimeout","window","clearTimeout","AudioContext","webkitAudioContext","e","alert","loud","freq","dur","createOscillator","createGain","connect","type","destination","frequency","gain","currentTime","sumArray","myArray","count"],"mappings":"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","file":"metronom.d160e0de.map","sourceRoot":"../src","sourcesContent":["/**\n * bar configuration\n */\nfunction Bars(amount, content, letter) {\n  this.amount = amount;\n  this.content = content;\n  this.letter = letter;\n}\n\nmodule.exports = Bars;\n","/**\n * music piece base class\n */\n\nvar Bars = require('./bars');\n\nfunction Piece(name, parts, tempi) {\n  this.name = name;\n  this.parts = [parts.length];\n  this.addParts(parts);\n  this.tempi = tempi;\n}\n\nPiece.prototype.getName = function() {\n  return this.name;\n}\n\nPiece.prototype.getParts = function() {\n  return this.parts.length;\n};\n\nPiece.prototype.getPart = function(number) {\n  return this.parts[number - 1];\n};\n\nPiece.prototype.getTempi = function() {\n  return this.tempi;\n}\n\nPiece.prototype.addParts = function(parts) {\n  const size = parts.length;\n  var part;\n  for (var i = 0; i < size; i++) {\n    part = parts[i];\n\n    if (part instanceof Bars) {\n      // whole part is defined by Bars config\n      var barsPart = [part.amount];\n      for (var j = 0; j < part.amount; j++) {\n        barsPart[j] = part.content;\n      }\n      this.parts[i] = barsPart;\n    } else {\n      // part is an array\n      var part2 = [];\n      var subPart2;\n\n      for (var k = 0; k < part.length; k++) {\n        subPart2 = part[k];\n\n        if (subPart2 instanceof Bars) {\n          var barsSubPart2 = [subPart2.amount];\n          for (var l = 0; l < subPart2.amount; l++) {\n            part2[part2.length] = subPart2.content;\n          }\n        } else {\n          part2[part2.length] = subPart2;\n        }\n      }\n\n      this.parts[i] = part2;\n    }\n  }\n}\n\nmodule.exports = Piece;\n","var Piece = require('../piece/piece');\nvar Bars = require('../piece/bars');\n\nconst barsSatz1 = new Bars(66, [2, 2, 2, 2]);\n\nconst barsSatz2 = new Bars(75, [2, 2, 2]);\n\nconst barsSatz3 = [\n  new Bars(2, [2, 2, 2, 2]),\n  [2, 2, 2, 3],\n  new Bars(3, [2, 2, 3]),\n  [2, 2, 2, 3], [2, 2, 3], [2, 2, 2, 3], [2, 2, 3], [2, 2, 2, 3],\n  new Bars(2, [3, 3, 2]),\n  new Bars(12, [3]),\n  [2, 2, 3], [2, 2, 2, 3], [2, 2, 3], [2, 2, 2, 3], [2, 2, 3, 3],\n  new Bars(6, [3]),\n  new Bars(3, [2, 2, 3]),\n  [3, 3, 2],\n  new Bars(3, [2, 2, 3]),\n  [3, 3, 2],\n  new Bars(2, [2, 2, 3]),\n  new Bars(2, [3, 3, 3]),\n  [2, 2, 3], [2, 2, 2, 3], [2, 2, 3], [2, 2, 2, 3], [2, 2, 3], [2, 2, 2, 2, 3],\n  new Bars(4, [3]),\n  new Bars(2, [2, 2, 3]),\n  [2, 2, 3, 3],\n  new Bars(60, [3]),\n  new Bars(3, [3, 2]),\n  new Bars(62, [3]),\n  [2, 2, 3], [2, 2, 2, 3], [2, 2, 3], [2, 2, 2, 3], [2, 2, 3], [2, 2, 2, 2, 3], [2, 2, 3], [2, 2, 2, 3], [2, 2, 3], [2, 2, 2, 3],\n  new Bars(14, [3]),\n  [2, 2, 3],\n  new Bars(4, [3])\n];\n\nfunction Masquerade() {\n  Piece.call(this,\n    \"Masquerade\",\n    [barsSatz1, barsSatz2, barsSatz3],\n    [176, 60, 140]\n    );\n}\n\nMasquerade.prototype = Object.create(Piece.prototype);\nMasquerade.prototype.constructor = Masquerade;\n\nObject.defineProperty(Masquerade.prototype, 'constructor', { \n  value: Masquerade, \n  enumerable: false,\n  writable: true });\n\nmodule.exports = Masquerade;\n","var Piece = require('../piece/piece');\nvar Bars = require('../piece/bars');\n\nconst barsSatz1 = [\n  [3, 2, 2],\n  new Bars(8, [3, 2, 2]),\n  new Bars(2, [2, 2, 3], 'A'),\n  [2, 2, 2, 2],\n  [2, 2],\n  [3, 3],\n  [3],\n  new Bars(4, [2, 2]),\n  new Bars(1, [3, 2, 2], 'B'),\n  [3, 3, 3],\n  [2, 2, 2, 2, 2, 2],\n  [3, 2, 2],\n  [3, 3, 3],\n  [2, 2, 2, 2, 2, 2],\n  new Bars(3, [2, 2, 3], 'C'),\n  [2, 2, 2, 2],\n  [2, 2],\n  [3, 3],\n  [3],\n  new Bars(4, [2, 2]),\n  new Bars(3, [3, 2, 2, 2], 'D'),\n  [3, 3, 3],\n  new Bars(3, [3, 2, 2, 2]),\n  [3, 3, 3],\n  new Bars(4, [3, 2, 2, 2], 'E'),\n  new Bars(4, [3, 2, 2, 2]), // repetition\n  new Bars(8, [3, 2, 2, 2]),\n  new Bars(4, [3, 3, 3], 'F'),\n  new Bars(4, [3, 3, 3]), // repetition\n  new Bars(8, [3, 3, 3]),\n  new Bars(8, [2, 2], 'G'), // alla breve\n  new Bars(8, [2, 2], 'H'),\n  new Bars(8, [2, 2]), // repetition\n  new Bars(8, [2, 2], 'I'),\n  new Bars(8, [2, 2], 'J'),\n  new Bars(8, [2, 2], 'K'),\n  new Bars(1, [3, 3], 'L'),\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2],\n  new Bars(2, [3, 3]),\n  [2, 2],\n  new Bars(1, [3, 3]), // repetition\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2],\n  new Bars(2, [3, 3]),\n  [2, 2],\n  new Bars(1, [3, 3], 'M'),\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2],\n  new Bars(2, [3, 3]),\n  [2, 2],\n  new Bars(1, [3, 3]), // repetition\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2],\n  new Bars(2, [3, 3]),\n  [2, 2],\n  new Bars(1, [3, 3], 'N'),\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2],\n  new Bars(2, [3, 3]),\n  [2, 2],\n  new Bars(1, [3, 3]), // repetition\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2],\n  new Bars(2, [3, 3]),\n  [2, 2],\n  new Bars(1, [3, 3], 'O'),\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2],\n  new Bars(2, [3, 3]),\n  [2, 2],\n  new Bars(1, [3, 3]), // repetition\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2]\n  [3, 3],\n  [2, 2, 2, 2],\n  new Bars(2, [3, 3]),\n  [2, 2],\n  new Bars(8, [3, 3], 'P'),\n  new Bars(8, [3, 3], 'Q'),\n  new Bars(8, [3, 3]), // repetition\n  new Bars(8, [3, 3], 'R'),\n  new Bars(8, [3, 3]), // repetition\n  new Bars(8, [3, 3], 'S'),\n  new Bars(8, [3, 3]), // repetition\n  new Bars(8, [3, 3], 'T'),\n  new Bars(8, [3, 3]), // repetition\n  new Bars(8, [3, 3], 'U')\n];\n\nfunction Riverdance() {\n  Piece.call(this, \"Riverdance\", [barsSatz1], [108]);\n}\n\nRiverdance.prototype = Object.create(Piece.prototype);\nRiverdance.prototype.constructor = Riverdance;\n\nObject.defineProperty(Riverdance.prototype, 'constructor', { \n  value: Riverdance, \n  enumerable: false,\n  writable: true });\n\nmodule.exports = Riverdance;\n","\"use strict\";\n\nvar Masquerade = require('./music/masquerade');\nvar Riverdance = require('./music/riverdance');\n\nvar piece = new Masquerade();\n\nvar barsSatz1 = piece.getPart(1);\nvar barsSatz2 = piece.getPart(2);\nvar barsSatz3 = piece.getPart(3);\n\nvar tempi = piece.getTempi();\n\n// event listener\n\ngetStartButton().addEventListener(\"click\", start);\ngetStopButton().addEventListener(\"click\", stop);\ngetPieceSelection().addEventListener(\"change\", pieceChanged);\ngetElementById(\"satz\").addEventListener(\"change\", wechsleTempo);\n\nfunction start() {\n\tersterBeep = false;\n\terstenBeepAusloesen();\n\n\tstopped = true;\n\tsetVariables();\n\tstopTimer();\n\tstopped = false;\n\trun();\n}\n\nfunction stop() {\n\tstopped = true;\n}\n\nfunction pieceChanged() {\n\tvar sel = getPieceSelection();\n\tvar text = sel.options[sel.selectedIndex].text;\n\tgetPieceTitle().innerHTML = text;\n\n\tif (sel.selectedIndex === 0) {\n\t\tpiece = new Masquerade();\n\t}\n\tif (sel.selectedIndex === 1) {\n\t\tpiece = new Riverdance();\n\t}\n\n\tgetElementById(\"tempo\").value = piece.getTempi()[0];\n\tgetElementById(\"satz\").value = 1;\n\tgetElementById(\"satz\").max = piece.getParts();\n}\n\n\n//var achtel = 0;\nvar takt = 0;\nvar schlag = 0;\nvar achtelDieserSchlag = 0;\nvar timestamp = (new Date()).getTime();\nvar achtelDauer = 200;\n\nvar bars;\nvar vorlauf = 0;\nvar achtelZeigen = true;\nvar stopped = false;\n\nvar ersterBeep = true;\n\nfunction wechsleTempo(id) {\n\tvar neueSatzNummer = document.getElementById(\"satz\").value;\n\tdocument.getElementById(\"tempo\").value = tempi[neueSatzNummer - 1];\n}\n\nfunction jetztstarten() {\n\tstopped = false;\n\trun();\n}\n\nfunction setVariables() {\n\tvar tempo = document.getElementById(\"tempo\").value;\n\tachtelDauer = (1000 * 60 / 2) / tempo;\n\n\tif (document.getElementById(\"achtelzeigen\").checked) {\n\t\tachtelZeigen = true;\n\t}\n\telse {\n\t\tachtelZeigen = false;\n\t}\n\n\tvar satzNr = document.getElementById(\"satz\").value;\n\tif (satzNr == 1) {\n\t\tbars = barsSatz1.slice(0);\n\t}\n\tif (satzNr == 2) {\n\t\tbars = barsSatz2.slice(0);\n\t}\n\tif (satzNr == 3) {\n\t\tbars = barsSatz3.slice(0);\n\t}\n\n\n\ttakt = document.getElementById(\"starttakt\").value - 1;\n\n\tvorlauf = document.getElementById(\"vorlauf\").value;\n\tvar startbar = bars[takt];\n\tfor (var i = 0; i < vorlauf; i++) {\n\t\tbars.splice(takt, 0, startbar);\n\t}\n\n\tdocument.getElementById(\"aktuellertakt\").value = takt + 1 - vorlauf;\n\n\t// reset\n\n\tschlag = 0;\n\tachtelDieserSchlag = 0;\n\ttimestamp = (new Date()).getTime();\n\n}\n\nfunction run() {\n\n\tvar now = (new Date()).getTime();\n\n\tif (now - timestamp >= achtelDauer) {\n\t\tif (schlag == 0 && achtelDieserSchlag == 0) { // erster Achtel eines Taktes\n\t\t\tbeep(10, 600, 50);\n\t\t}\n\t\telse if (achtelDieserSchlag == 0) { // erster Achtel eines Schlages\n\t\t\tbeep(10, 500, 50);\n\t\t}\n\t\telse if (achtelZeigen) { // irgendein Achtel\n\t\t\tbeep(10, 400, 50);\n\t\t}\n\t\ttimestamp = now;\n\n\t\t// hochzaehlen für nächsten Achtel\n\t\tachtelDieserSchlag++;\n\t\tif (achtelDieserSchlag >= bars[takt][schlag]) { // nicht mehr im schlag drin\n\t\t\t// neuer Schlag\n\t\t\tachtelDieserSchlag = 0;\n\t\t\tschlag++;\n\t\t\tif (schlag >= bars[takt].length) {// nicht mehr im takt drin\n\t\t\t\tschlag = 0;\n\t\t\t\ttakt++;\n\n\t\t\t\tdocument.getElementById(\"aktuellertakt\").value = takt + 1 - vorlauf;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (takt < bars.length && !stopped) {\n\t\tsetTimeout(run, 1);\n\t}\n}\n\n// Timer stoppen\nfunction stopTimer() {\n\tfor (var i = 1; i < 99999; i++) {\n\t\t//window.clearInterval(i);\n\t\twindow.clearTimeout(i);\n\t}\n}\n\n// Beep erstellen\n// https://stackoverflow.com/questions/35497243/how-to-make-a-short-beep-in-javascript-that-can-be-called-repeatedly-on-a-page#35498316\n//var a = new AudioContext();\n//var a = new webkitAudioContext();\n\nvar a;\nvar v;\nvar u;\nfunction erstenBeepAusloesen() {\n\t// Do we have Audio API\n\ttry {\n\t\twindow.AudioContext = window.AudioContext || window.webkitAudioContext;\n\t} catch (e) {\n\t\talert('Web Audio API is not supported in this browser');\n\t}\n\n\ta = new AudioContext();\n\t//v = a.createOscillator();\n\t//u = a.createGain();\n\t//v.connect(u);\n\t//v.type = \"square\";\n\t//u.connect(a.destination);\n\tbeep(1, 100, 1);\n}\n\nfunction beep(loud, freq, dur) {\n\t//var a = new AudioContext();\n\t//console.log(loud+x+y)\n\n\t// notwendig?\n\tv = a.createOscillator();\n\tu = a.createGain();\n\tv.connect(u);\n\tv.type = \"square\";\n\tu.connect(a.destination);\n\n\tv.frequency.value = freq;\n\tu.gain.value = loud * 0.01;\n\tv.start(a.currentTime);\n\tv.stop(a.currentTime + dur * 0.001);\n}\n\n// Summe in Array\n// https://stackoverflow.com/questions/3762589/fastest-javascript-summation\nfunction sumArray(myArray) {\n\tvar count = 0;\n\tfor (var i = myArray.length - 1; i > 0; i--) {\n\t\tcount += myArray[i];\n\t}\n\treturn count;\n}\n\n// helpers\n\nfunction getElementById(id) {\n\treturn document.getElementById(id);\n}\n\nfunction getStartButton() {\n\treturn getElementById(\"startButton\");\n}\n\nfunction getStopButton() {\n\treturn getElementById(\"stopButton\");\n}\n\nfunction getPieceSelection() {\n\treturn getElementById(\"pieceSelection\");\n}\n\nfunction getPieceTitle() {\n\treturn getElementById(\"pieceTitle\");\n}\n"]}